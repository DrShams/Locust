# üìä –ö–æ–ª–ª–µ–∫—Ü–∏—è Locust —Ñ–∞–π–ª–æ–≤

–ù–∞–±–æ—Ä —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ **Locust**.  
–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥—Ö–æ–¥—ã –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

---

## üìå –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª                          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                           | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                                 |
|-------------------------------|------------------------------------------------------|------------------------------------------------------------------------------|
| **locustfile_class_division.py** | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–ª–∞—Å—Å—ã (HTTP + gRPC)     | –ö–ª–∞—Å—Å—ã BaseUser, AdminUser, GRPCUser; —Ä–∞–∑–Ω—ã–µ –≤–µ—Å–∞; —Å–æ–±—ã—Ç–∏—è Locust; –ø–æ–¥–¥–µ—Ä–∂–∫–∞ gRPC |
| **locustfile_customarguments.py** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏         | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤; —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã (—Å—Ç—Ä–æ–∫–æ–≤—ã–µ, –±—É–ª–µ–≤—ã, —Å–ø–∏—Å–∫–∏, —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ)    |
| **locustfile_events_failration.py** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –æ—à–∏–±–æ–∫  | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ fail_ratio; –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ 80% –æ—à–∏–±–æ–∫; —Ñ–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ gevent |
| **locustfile_newroutes.py**     | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ UI Locust          | –ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç /system_stats; –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU –∏ –ø–∞–º—è—Ç–∏; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ psutil   |
| **locustfile_task_methods.py**  | –ó–∞–¥–∞—á–∏ –±–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ `@task`                       | –ó–∞–¥–∞—á–∏ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏; —Å–ª–æ–≤–∞—Ä—å tasks; —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —á–µ—Ä–µ–∑ constant_pacing  |
| **locustfile_task_simple.py**   | –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞                   | –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å; –¥–≤–µ –∑–∞–¥–∞—á–∏ —Å –≤–µ—Å–∞–º–∏; —Å–ª—É—á–∞–π–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ; on_start/on_stop  |
| **locustfile_task_tags.py**     | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤                                 | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á –ø–æ —Ç–µ–≥–∞–º; –∑–∞–ø—É—Å–∫ –ø–æ —Ç–µ–≥–∞–º; –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–≥–æ–≤                 |
| **locustfile_taskset_correlation.py**     | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∑–∞–¥–∞—á/–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è                                 | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á –ø–æ –≥—Ä—É–ø–ø–∞–º              |
| **locustfile_influx.py**     | –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –≤ influx                                 | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ grafana_dashboard –¥–ª—è –≤—ã–≤–æ–¥–∞ –º–µ—Ç—Ä–∏–∫              |

## üìÇ –û–±–∑–æ—Ä —Ñ–∞–π–ª–æ–≤

### 1. `locustfile_class_division.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–ª–∞—Å—Å—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º, –≤–∫–ª—é—á–∞—è gRPC.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- `BaseUser`, `AdminUser`, `GRPCUser`  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **HTTP** –∏ **gRPC**  
- –°–æ–±—ã—Ç–∏—è Locust (`init`, `test_start`, `test_stop`, `request`)  
- –†–∞–∑–Ω—ã–µ –≤–µ—Å–∞ (`weight = 3` –∏ `1`)  
- `on_start` –∏ `on_stop`  

---

### 2. `locustfile_customarguments.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `init_command_line_parser`  
- –¢–∏–ø—ã: —Å—Ç—Ä–æ–∫–æ–≤—ã–µ, –±—É–ª–µ–≤—ã, —Å–ø–∏—Å–∫–æ–≤—ã–µ, —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ  
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `environment.parsed_options`  

---

### 3. `locustfile_events_failration.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–∞ –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –æ—à–∏–±–æ–∫.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ **fail_ratio**  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ **80% –æ—à–∏–±–æ–∫**  
- `gevent`-–∫–æ—Ä—É—Ç–∏–Ω—ã  
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **master** –∏–ª–∏ **standalone**  

---

### 4. `locustfile_newroutes.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Locust.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- –ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/system_stats`  
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `psutil`  

---

### 5. `locustfile_task_methods.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –±–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ `@task`.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–π  
- –í–µ—Å –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `tasks`  
- `constant_pacing` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏  

---

### 6. `locustfile_task_simple.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Å—Ç–æ–π –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- –û–¥–∏–Ω –∫–ª–∞—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–≤—É–º—è –∑–∞–¥–∞—á–∞–º–∏  
- –°–ª—É—á–∞–π–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ `between(1,5)`  
- –†–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–¥–∞—á (`6` –∏ `1`)  
- –ú–µ—Ç–æ–¥—ã `on_start`, `on_stop`  

---

### 7. `locustfile_task_tags.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤.  

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
- `@tag` –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏  
- `--tags` –¥–ª—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞  
- `--exclude-tags` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è  

---
